<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8" />
    <title>–í—Å–µ —Ñ–∏–ª—å–º—ã</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<header class="main-header">
    <div class="header-content">
        <a href="index.html">
        <img src="/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-icon">
        <h1 class="site-title">CinemaRate</h1>
        </a>
    </div>
    <a href="index.html" class="header-button">Exit</a>
</header>



<div class="movie-list" id="moviesContainer"></div>

<script>
    fetch("/movie/all")
        .then(response => response.json())
        .then(movies => {
            const container = document.getElementById("moviesContainer");
            container.innerHTML = "";

            if (movies.length === 0) {
                container.innerHTML = "<p>–ù–µ—Ç —Ñ–∏–ª—å–º–æ–≤ –≤ –±–∞–∑–µ.</p>";
                return;
            }

            movies.forEach(movie => {
                const div = document.createElement("div");
                div.className = "movie-card";
                div.innerHTML = `
                    <h2 class="movie-title">
                        <a href="movie.html?id=${movie.id}">${movie.title}</a>
                    </h2>
                    <div class="movie-year">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: ${movie.year}</div>
                    <div class="movie-description">${movie.description}</div>
                `;
                container.appendChild(div);
            });
        })
        .catch(error => {
            const container = document.getElementById("moviesContainer");
            container.innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö üò¢</p>";
            console.error("–û—à–∏–±–∫–∞:", error);
        });
</script>
</body>
</html>
